{"ast":null,"code":"import _slicedToArray from\"/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useCallback,useState,useEffect}from'react';import{useWeb3React}from'@web3-react/core';import{useLottery,useLotteryTicket}from'hooks/useContract';import{multiClaim,getMax,multiBuy}from'../utils/lotteryUtils';export var useMultiClaimLottery=function useMultiClaimLottery(){var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var lotteryContract=useLottery();var lotteryTicketContract=useLotteryTicket();var handleClaim=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var txHash;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return multiClaim(lotteryContract,lotteryTicketContract,account);case 3:txHash=_context.sent;return _context.abrupt(\"return\",txHash);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",false);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[account,lotteryContract,lotteryTicketContract]);return{onMultiClaim:handleClaim};};export var useMultiBuyLottery=function useMultiBuyLottery(){var _useWeb3React2=useWeb3React(),account=_useWeb3React2.account;var lotteryContract=useLottery();var handleBuy=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(amount,numbers){var txHash;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return multiBuy(lotteryContract,amount,numbers,account);case 3:txHash=_context2.sent;return _context2.abrupt(\"return\",txHash);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",false);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}(),[account,lotteryContract]);return{onMultiBuy:handleBuy};};export var useMaxNumber=function useMaxNumber(){var _useState=useState(5),_useState2=_slicedToArray(_useState,2),max=_useState2[0],setMax=_useState2[1];var lotteryContract=useLottery();var fetchMax=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var maxNumber;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getMax(lotteryContract);case 2:maxNumber=_context3.sent;setMax(maxNumber);case 4:case\"end\":return _context3.stop();}}},_callee3);})),[lotteryContract]);useEffect(function(){if(lotteryContract){fetchMax();}},[lotteryContract,fetchMax]);return max;};","map":{"version":3,"sources":["/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/src/hooks/useBuyLottery.ts"],"names":["useCallback","useState","useEffect","useWeb3React","useLottery","useLotteryTicket","multiClaim","getMax","multiBuy","useMultiClaimLottery","account","lotteryContract","lotteryTicketContract","handleClaim","txHash","onMultiClaim","useMultiBuyLottery","handleBuy","amount","numbers","onMultiBuy","useMaxNumber","max","setMax","fetchMax","maxNumber"],"mappings":"ogBAAA,OAASA,WAAT,CAAsBC,QAAtB,CAAgCC,SAAhC,KAAiD,OAAjD,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,mBAA7C,CACA,OAASC,UAAT,CAAqBC,MAArB,CAA6BC,QAA7B,KAA6C,uBAA7C,CAEA,MAAO,IAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,mBACpBN,YAAY,EADQ,CAChCO,OADgC,eAChCA,OADgC,CAExC,GAAMC,CAAAA,eAAe,CAAGP,UAAU,EAAlC,CACA,GAAMQ,CAAAA,qBAAqB,CAAGP,gBAAgB,EAA9C,CAEA,GAAMQ,CAAAA,WAAW,CAAGb,WAAW,sEAAC,oLAEPM,CAAAA,UAAU,CAACK,eAAD,CAAkBC,qBAAlB,CAAyCF,OAAzC,CAFH,QAEtBI,MAFsB,+CAGrBA,MAHqB,0FAKrB,KALqB,sEAAD,GAO5B,CAACJ,OAAD,CAAUC,eAAV,CAA2BC,qBAA3B,CAP4B,CAA/B,CASA,MAAO,CAAEG,YAAY,CAAEF,WAAhB,CAAP,CACD,CAfM,CAiBP,MAAO,IAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,oBAClBb,YAAY,EADM,CAC9BO,OAD8B,gBAC9BA,OAD8B,CAEtC,GAAMC,CAAAA,eAAe,CAAGP,UAAU,EAAlC,CAEA,GAAMa,CAAAA,SAAS,CAAGjB,WAAW,2FAC3B,kBAAOkB,MAAP,CAAuBC,OAAvB,yKAEyBX,CAAAA,QAAQ,CAACG,eAAD,CAAkBO,MAAlB,CAA0BC,OAA1B,CAAmCT,OAAnC,CAFjC,QAEUI,MAFV,iDAGWA,MAHX,8FAKW,KALX,wEAD2B,oEAS3B,CAACJ,OAAD,CAAUC,eAAV,CAT2B,CAA7B,CAYA,MAAO,CAAES,UAAU,CAAEH,SAAd,CAAP,CACD,CAjBM,CAmBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,eACVpB,QAAQ,CAAC,CAAD,CADE,wCACzBqB,GADyB,eACpBC,MADoB,eAEhC,GAAMZ,CAAAA,eAAe,CAAGP,UAAU,EAAlC,CAEA,GAAMoB,CAAAA,QAAQ,CAAGxB,WAAW,sEAAC,6KACHO,CAAAA,MAAM,CAACI,eAAD,CADH,QACrBc,SADqB,gBAE3BF,MAAM,CAACE,SAAD,CAAN,CAF2B,wDAAD,GAGzB,CAACd,eAAD,CAHyB,CAA5B,CAKAT,SAAS,CAAC,UAAM,CACd,GAAIS,eAAJ,CAAqB,CACnBa,QAAQ,GACT,CACF,CAJQ,CAIN,CAACb,eAAD,CAAkBa,QAAlB,CAJM,CAAT,CAMA,MAAOF,CAAAA,GAAP,CACD,CAhBM","sourcesContent":["import { useCallback, useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useLottery, useLotteryTicket } from 'hooks/useContract'\nimport { multiClaim, getMax, multiBuy } from '../utils/lotteryUtils'\n\nexport const useMultiClaimLottery = () => {\n  const { account } = useWeb3React()\n  const lotteryContract = useLottery()\n  const lotteryTicketContract = useLotteryTicket()\n\n  const handleClaim = useCallback(async () => {\n    try {\n      const txHash = await multiClaim(lotteryContract, lotteryTicketContract, account)\n      return txHash\n    } catch (e) {\n      return false\n    }\n  }, [account, lotteryContract, lotteryTicketContract])\n\n  return { onMultiClaim: handleClaim }\n}\n\nexport const useMultiBuyLottery = () => {\n  const { account } = useWeb3React()\n  const lotteryContract = useLottery()\n\n  const handleBuy = useCallback(\n    async (amount: string, numbers: Array<any>) => {\n      try {\n        const txHash = await multiBuy(lotteryContract, amount, numbers, account)\n        return txHash\n      } catch (e) {\n        return false\n      }\n    },\n    [account, lotteryContract],\n  )\n\n  return { onMultiBuy: handleBuy }\n}\n\nexport const useMaxNumber = () => {\n  const [max, setMax] = useState(5)\n  const lotteryContract = useLottery()\n\n  const fetchMax = useCallback(async () => {\n    const maxNumber = await getMax(lotteryContract)\n    setMax(maxNumber)\n  }, [lotteryContract])\n\n  useEffect(() => {\n    if (lotteryContract) {\n      fetchMax()\n    }\n  }, [lotteryContract, fetchMax])\n\n  return max\n}\n"]},"metadata":{},"sourceType":"module"}