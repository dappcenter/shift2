{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/shift2-fcb8bc041d1fedb7988290b70457fa426765e2f4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/shift2-fcb8bc041d1fedb7988290b70457fa426765e2f4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/shift2-fcb8bc041d1fedb7988290b70457fa426765e2f4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-console */import{useEffect,useState}from'react';/**\n * Due to Cors the api was forked and a proxy was created\n * @see https://github.com/pancakeswap/gatsby-pancake-api/commit/e811b67a43ccc41edd4a0fa1ee704b2f510aa0ba\n */var api='https://api.coingecko.com/api/v3/simple/price?ids=binancecoin&vs_currencies=usd';var useGetPriceData=function useGetPriceData(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(api);case 3:response=_context.sent;_context.next=6;return response.json();case 6:res=_context.sent;/// => res.binancecoin.usd\n// @ts-ignore\nsetData(res.binancecoin.usd);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('Unable to fetch price data:',_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[setData]);console.log(data);return data;};export default useGetPriceData;","map":{"version":3,"sources":["/Volumes/evo970/shift2-fcb8bc041d1fedb7988290b70457fa426765e2f4/src/components/Menu/getPrice.ts"],"names":["useEffect","useState","api","useGetPriceData","data","setData","fetchData","fetch","response","json","res","binancecoin","usd","console","error","log"],"mappings":"+hBAAA,+BACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAQA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,GAAG,CAAG,iFAAZ,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,eACJF,QAAQ,CAAqB,IAArB,CADJ,wCACrBG,IADqB,eACfC,OADe,eAG5BL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,SAAS,0FAAG,0LAESC,CAAAA,KAAK,CAACL,GAAD,CAFd,QAERM,QAFQ,qCAIiBA,CAAAA,QAAQ,CAACC,IAAT,EAJjB,QAIRC,GAJQ,eAIsC;AACpD;AACAL,OAAO,CAACK,GAAG,CAACC,WAAJ,CAAgBC,GAAjB,CAAP,CANc,iFAQdC,OAAO,CAACC,KAAR,CAAc,6BAAd,cARc,qEAAH,kBAATR,CAAAA,SAAS,0CAAf,CAYAA,SAAS,GACV,CAdQ,CAcN,CAACD,OAAD,CAdM,CAAT,CAeAQ,OAAO,CAACE,GAAR,CAAYX,IAAZ,EACA,MAAOA,CAAAA,IAAP,CACD,CApBD,CAsBA,cAAeD,CAAAA,eAAf","sourcesContent":["/* eslint-disable no-console */\nimport { useEffect, useState } from 'react'\n\ntype ApiResponse = {\n  prices: {\n    [key: string]: string\n  }\n}\n\n/**\n * Due to Cors the api was forked and a proxy was created\n * @see https://github.com/pancakeswap/gatsby-pancake-api/commit/e811b67a43ccc41edd4a0fa1ee704b2f510aa0ba\n */\nconst api = 'https://api.coingecko.com/api/v3/simple/price?ids=binancecoin&vs_currencies=usd'\n\nconst useGetPriceData = () => {\n  const [data, setData] = useState<ApiResponse | null>(null)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(api)\n        // get bnb price    \n        const res: ApiResponse = await response.json()      /// => res.binancecoin.usd\n        // @ts-ignore\n        setData(res.binancecoin.usd)\n      } catch (error) {\n        console.error('Unable to fetch price data:', error)\n      }\n    }\n\n    fetchData()\n  }, [setData])\n  console.log(data);\n  return data\n}\n\nexport default useGetPriceData\n"]},"metadata":{},"sourceType":"module"}