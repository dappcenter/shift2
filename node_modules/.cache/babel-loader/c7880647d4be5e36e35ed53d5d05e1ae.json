{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rp/Desktop/death/answers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rp/Desktop/death/answers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rp/Desktop/death/answers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import BigNumber from'bignumber.js';import{useWeb3React}from'@web3-react/core';import{getBep20Contract,getCakeContract}from'utils/contractHelpers';import useWeb3 from'./useWeb3';import useRefresh from'./useRefresh';var useTokenBalance=function useTokenBalance(tokenAddress){var _useState=useState(new BigNumber(0)),_useState2=_slicedToArray(_useState,2),balance=_useState2[0],setBalance=_useState2[1];var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var web3=useWeb3();var _useRefresh=useRefresh(),fastRefresh=_useRefresh.fastRefresh;useEffect(function(){var fetchBalance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var contract,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contract=getBep20Contract(tokenAddress,web3);_context.next=3;return contract.methods.balanceOf(account).call();case 3:res=_context.sent;setBalance(new BigNumber(res));case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchBalance(){return _ref.apply(this,arguments);};}();if(account){fetchBalance();}},[account,tokenAddress,web3,fastRefresh]);return balance;};export var useTotalSupply=function useTotalSupply(){var _useRefresh2=useRefresh(),slowRefresh=_useRefresh2.slowRefresh;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),totalSupply=_useState4[0],setTotalSupply=_useState4[1];useEffect(function(){function fetchTotalSupply(){return _fetchTotalSupply.apply(this,arguments);}function _fetchTotalSupply(){_fetchTotalSupply=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var cakeContract,supply;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cakeContract=getCakeContract();_context2.next=3;return cakeContract.methods.totalSupply().call();case 3:supply=_context2.sent;setTotalSupply(new BigNumber(supply));case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchTotalSupply.apply(this,arguments);}fetchTotalSupply();},[slowRefresh]);return totalSupply;};export var useBurnedBalance=function useBurnedBalance(tokenAddress){var _useState5=useState(new BigNumber(0)),_useState6=_slicedToArray(_useState5,2),balance=_useState6[0],setBalance=_useState6[1];var _useRefresh3=useRefresh(),slowRefresh=_useRefresh3.slowRefresh;var web3=useWeb3();useEffect(function(){var fetchBalance=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var contract,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:contract=getBep20Contract(tokenAddress,web3);_context3.next=3;return contract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call();case 3:res=_context3.sent;setBalance(new BigNumber(res));case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchBalance(){return _ref2.apply(this,arguments);};}();fetchBalance();},[web3,tokenAddress,slowRefresh]);return balance;};export default useTokenBalance;","map":{"version":3,"sources":["/Users/rp/Desktop/death/answers/src/hooks/useTokenBalance.ts"],"names":["useEffect","useState","BigNumber","useWeb3React","getBep20Contract","getCakeContract","useWeb3","useRefresh","useTokenBalance","tokenAddress","balance","setBalance","account","web3","fastRefresh","fetchBalance","contract","methods","balanceOf","call","res","useTotalSupply","slowRefresh","totalSupply","setTotalSupply","fetchTotalSupply","cakeContract","supply","useBurnedBalance"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { getBep20Contract, getCakeContract } from 'utils/contractHelpers'\nimport useWeb3 from './useWeb3'\nimport useRefresh from './useRefresh'\n\nconst useTokenBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { account } = useWeb3React()\n  const web3 = useWeb3()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress, web3)\n      const res = await contract.methods.balanceOf(account).call()\n      setBalance(new BigNumber(res))\n    }\n\n    if (account) {\n      fetchBalance()\n    }\n  }, [account, tokenAddress, web3, fastRefresh])\n\n  return balance\n}\n\nexport const useTotalSupply = () => {\n  const { slowRefresh } = useRefresh()\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\n\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const cakeContract = getCakeContract()\n      const supply = await cakeContract.methods.totalSupply().call()\n      setTotalSupply(new BigNumber(supply))\n    }\n\n    fetchTotalSupply()\n  }, [slowRefresh])\n\n  return totalSupply\n}\n\nexport const useBurnedBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { slowRefresh } = useRefresh()\n  const web3 = useWeb3()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress, web3)\n      const res = await contract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call()\n      setBalance(new BigNumber(res))\n    }\n\n    fetchBalance()\n  }, [web3, tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport default useTokenBalance\n"]},"metadata":{},"sourceType":"module"}