{"ast":null,"code":"import _slicedToArray from\"/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React from'react';import styled from'styled-components';import{Button,useModal}from'@pancakeswap-libs/uikit';import useI18n from'hooks/useI18n';import useGetLotteryHasDrawn from'hooks/useGetLotteryHasDrawn';import{useLotteryAllowance}from'hooks/useAllowance';import useTickets from'hooks/useTickets';import useTokenBalance from'hooks/useTokenBalance';import{getCakeAddress}from'utils/addressHelpers';import{useApproval}from'hooks/useApproval';import BuyTicketModal from'./BuyTicketModal';import MyTicketsModal from'./UserTicketsModal';import PurchaseWarningModal from'./PurchaseWarningModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardActions=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-top: \",\"px;\\n\\n  \",\" {\\n    justify-content: space-between;\\n  }\\n\"])),function(props){return props.theme.spacing[3];},function(_ref){var theme=_ref.theme;return theme.mediaQueries.lg;});var TicketCard=function TicketCard(){var TranslateString=useI18n();var allowance=useLotteryAllowance();var lotteryHasDrawn=useGetLotteryHasDrawn();var cakeBalance=useTokenBalance(getCakeAddress());var tickets=useTickets();var ticketsLength=tickets.length;var _useModal=useModal(/*#__PURE__*/_jsx(MyTicketsModal,{myTicketNumbers:tickets,from:\"buy\"})),_useModal2=_slicedToArray(_useModal,1),onPresentMyTickets=_useModal2[0];var _useModal3=useModal(/*#__PURE__*/_jsx(PurchaseWarningModal,{})),_useModal4=_slicedToArray(_useModal3,1),onPresentApprove=_useModal4[0];var _useModal5=useModal(/*#__PURE__*/_jsx(BuyTicketModal,{max:cakeBalance,tokenName:\"QUESTIONMARK\"})),_useModal6=_slicedToArray(_useModal5,1),onPresentBuy=_useModal6[0];var _useApproval=useApproval(onPresentApprove),handleApprove=_useApproval.handleApprove,requestedApproval=_useApproval.requestedApproval;var renderLotteryTicketButtons=function renderLotteryTicketButtons(){if(!allowance.toNumber()){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{width:\"100%\",disabled:true,children:TranslateString(432,'View your tickets')}),/*#__PURE__*/_jsx(Button,{width:\"100%\",disabled:requestedApproval,onClick:handleApprove,children:TranslateString(494,'Approve QUESTIONMARK')})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{style:{marginRight:'8px'},width:\"100%\",disabled:ticketsLength===0,variant:\"secondary\",onClick:onPresentMyTickets,children:TranslateString(432,'View your tickets')}),/*#__PURE__*/_jsx(Button,{id:\"lottery-buy-start\",width:\"100%\",onClick:onPresentBuy,children:TranslateString(430,'Buy ticket')})]});};return/*#__PURE__*/_jsx(CardActions,{children:lotteryHasDrawn?/*#__PURE__*/_jsxs(Button,{disabled:true,children:[\" \",TranslateString(874,'On sale soon')]}):renderLotteryTicketButtons()});};export default TicketCard;","map":{"version":3,"sources":["/Users/rp/Desktop/death/LOU10_sourcecode/toModifyFarms/src/views/Lottery/components/TicketCard/TicketActions.tsx"],"names":["React","styled","Button","useModal","useI18n","useGetLotteryHasDrawn","useLotteryAllowance","useTickets","useTokenBalance","getCakeAddress","useApproval","BuyTicketModal","MyTicketsModal","PurchaseWarningModal","CardActions","div","props","theme","spacing","mediaQueries","lg","TicketCard","TranslateString","allowance","lotteryHasDrawn","cakeBalance","tickets","ticketsLength","length","onPresentMyTickets","onPresentApprove","onPresentBuy","handleApprove","requestedApproval","renderLotteryTicketButtons","toNumber","marginRight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { Button, useModal } from '@pancakeswap-libs/uikit'\nimport useI18n from 'hooks/useI18n'\nimport useGetLotteryHasDrawn from 'hooks/useGetLotteryHasDrawn'\nimport { useLotteryAllowance } from 'hooks/useAllowance'\nimport useTickets from 'hooks/useTickets'\nimport useTokenBalance from 'hooks/useTokenBalance'\nimport { getCakeAddress } from 'utils/addressHelpers'\nimport { useApproval } from 'hooks/useApproval'\nimport BuyTicketModal from './BuyTicketModal'\nimport MyTicketsModal from './UserTicketsModal'\nimport PurchaseWarningModal from './PurchaseWarningModal'\n\nconst CardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[3]}px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    justify-content: space-between;\n  }\n`\n\nconst TicketCard: React.FC = () => {\n  const TranslateString = useI18n()\n  const allowance = useLotteryAllowance()\n  const lotteryHasDrawn = useGetLotteryHasDrawn()\n  const cakeBalance = useTokenBalance(getCakeAddress())\n  const tickets = useTickets()\n  const ticketsLength = tickets.length\n  const [onPresentMyTickets] = useModal(<MyTicketsModal myTicketNumbers={tickets} from=\"buy\" />)\n  const [onPresentApprove] = useModal(<PurchaseWarningModal />)\n  const [onPresentBuy] = useModal(<BuyTicketModal max={cakeBalance} tokenName=\"QUESTIONMARK\" />)\n  const { handleApprove, requestedApproval } = useApproval(onPresentApprove)\n\n  const renderLotteryTicketButtons = () => {\n    if (!allowance.toNumber()) {\n      return (\n        <>\n          <Button width=\"100%\" disabled>\n            {TranslateString(432, 'View your tickets')}\n          </Button>\n          <Button width=\"100%\" disabled={requestedApproval} onClick={handleApprove}>\n            {TranslateString(494, 'Approve QUESTIONMARK')}\n          </Button>\n        </>\n      )\n    }\n    return (\n      <>\n        <Button\n          style={{ marginRight: '8px' }}\n          width=\"100%\"\n          disabled={ticketsLength === 0}\n          variant=\"secondary\"\n          onClick={onPresentMyTickets}\n        >\n          {TranslateString(432, 'View your tickets')}\n        </Button>\n        <Button id=\"lottery-buy-start\" width=\"100%\" onClick={onPresentBuy}>\n          {TranslateString(430, 'Buy ticket')}\n        </Button>\n      </>\n    )\n  }\n\n  return (\n    <CardActions>\n      {lotteryHasDrawn ? (\n        <Button disabled> {TranslateString(874, 'On sale soon')}</Button>\n      ) : (\n        renderLotteryTicketButtons()\n      )}\n    </CardActions>\n  )\n}\n\nexport default TicketCard\n"]},"metadata":{},"sourceType":"module"}