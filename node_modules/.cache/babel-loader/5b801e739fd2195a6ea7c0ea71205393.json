{"ast":null,"code":"import{getWeb3NoAccount}from'./web3';/**\n * Accepts an array of contract method calls and batches them\n *\n * Example:\n *\n * [\n *  contract.method.balanceOf().call,\n *  contract.method.startBlockNumber().call\n * ]\n */var makeBatchRequest=function makeBatchRequest(calls){try{var web3=getWeb3NoAccount();var batch=new web3.BatchRequest();var promises=calls.map(function(call){return new Promise(function(resolve,reject){batch.add(call.request({},function(err,result){if(err){reject(err);}else{resolve(result);}}));});});batch.execute();return Promise.all(promises);}catch(_unused){return null;}};export default makeBatchRequest;","map":{"version":3,"sources":["/Users/rp/Desktop/death/answers/src/utils/makeBatchRequest.ts"],"names":["getWeb3NoAccount","makeBatchRequest","calls","web3","batch","BatchRequest","promises","map","call","Promise","resolve","reject","add","request","err","result","execute","all"],"mappings":"AAAA,OAASA,gBAAT,KAAiC,QAAjC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAkB,CACzC,GAAI,CACF,GAAMC,CAAAA,IAAI,CAAGH,gBAAgB,EAA7B,CACA,GAAMI,CAAAA,KAAK,CAAG,GAAID,CAAAA,IAAI,CAACE,YAAT,EAAd,CAEA,GAAMC,CAAAA,QAAQ,CAAGJ,KAAK,CAACK,GAAN,CAAU,SAACC,IAAD,CAAU,CACnC,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCP,KAAK,CAACQ,GAAN,CACEJ,IAAI,CAACK,OAAL,CAAa,EAAb,CAAiB,SAACC,GAAD,CAAMC,MAAN,CAAiB,CAChC,GAAID,GAAJ,CAAS,CACPH,MAAM,CAACG,GAAD,CAAN,CACD,CAFD,IAEO,CACLJ,OAAO,CAACK,MAAD,CAAP,CACD,CACF,CAND,CADF,EASD,CAVM,CAAP,CAWD,CAZgB,CAAjB,CAcAX,KAAK,CAACY,OAAN,GAEA,MAAOP,CAAAA,OAAO,CAACQ,GAAR,CAAYX,QAAZ,CAAP,CACD,CAAC,cAAM,CACN,MAAO,KAAP,CACD,CACF,CAzBD,CA2BA,cAAeL,CAAAA,gBAAf","sourcesContent":["import { getWeb3NoAccount } from './web3'\n\n/**\n * Accepts an array of contract method calls and batches them\n *\n * Example:\n *\n * [\n *  contract.method.balanceOf().call,\n *  contract.method.startBlockNumber().call\n * ]\n */\nconst makeBatchRequest = (calls: any[]) => {\n  try {\n    const web3 = getWeb3NoAccount()\n    const batch = new web3.BatchRequest()\n\n    const promises = calls.map((call) => {\n      return new Promise((resolve, reject) => {\n        batch.add(\n          call.request({}, (err, result) => {\n            if (err) {\n              reject(err)\n            } else {\n              resolve(result)\n            }\n          }),\n        )\n      })\n    })\n\n    batch.execute()\n\n    return Promise.all(promises)\n  } catch {\n    return null\n  }\n}\n\nexport default makeBatchRequest\n"]},"metadata":{},"sourceType":"module"}