{"ast":null,"code":"import _slicedToArray from\"/Users/rp/Desktop/shift2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState,useRef}from\"react\";import Web3 from\"web3\";import{useWeb3React}from\"@web3-react/core\";import{getWeb3NoAccount}from\"utils/web3\";/**\n * Provides a web3 instance using the provider provided by useWallet\n * with a fallback of an httpProver\n * Recreate web3 instance only if the provider change\n */var useWeb3=function useWeb3(){var _useWeb3React=useWeb3React(),library=_useWeb3React.library;var refEth=useRef(library);var _useState=useState(library?new Web3(library):getWeb3NoAccount()),_useState2=_slicedToArray(_useState,2),web3=_useState2[0],setweb3=_useState2[1];useEffect(function(){if(library!==refEth.current){setweb3(library?new Web3(library):getWeb3NoAccount());refEth.current=library;}},[library]);return web3;};export default useWeb3;","map":{"version":3,"sources":["/Users/rp/Desktop/shift2/src/hooks/useWeb3.ts"],"names":["useEffect","useState","useRef","Web3","useWeb3React","getWeb3NoAccount","useWeb3","library","refEth","web3","setweb3","current"],"mappings":"+IAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,mBACAF,YAAY,EADZ,CACZG,OADY,eACZA,OADY,CAEpB,GAAMC,CAAAA,MAAM,CAAGN,MAAM,CAACK,OAAD,CAArB,CAFoB,cAGIN,QAAQ,CAC9BM,OAAO,CAAG,GAAIJ,CAAAA,IAAJ,CAASI,OAAT,CAAH,CAAuBF,gBAAgB,EADhB,CAHZ,wCAGbI,IAHa,eAGPC,OAHO,eAOpBV,SAAS,CAAC,UAAM,CACd,GAAIO,OAAO,GAAKC,MAAM,CAACG,OAAvB,CAAgC,CAC9BD,OAAO,CAACH,OAAO,CAAG,GAAIJ,CAAAA,IAAJ,CAASI,OAAT,CAAH,CAAuBF,gBAAgB,EAA/C,CAAP,CACAG,MAAM,CAACG,OAAP,CAAiBJ,OAAjB,CACD,CACF,CALQ,CAKN,CAACA,OAAD,CALM,CAAT,CAOA,MAAOE,CAAAA,IAAP,CACD,CAfD,CAiBA,cAAeH,CAAAA,OAAf","sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport Web3 from \"web3\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { getWeb3NoAccount } from \"utils/web3\";\n\n/**\n * Provides a web3 instance using the provider provided by useWallet\n * with a fallback of an httpProver\n * Recreate web3 instance only if the provider change\n */\nconst useWeb3 = () => {\n  const { library } = useWeb3React();\n  const refEth = useRef(library);\n  const [web3, setweb3] = useState(\n    library ? new Web3(library) : getWeb3NoAccount()\n  );\n\n  useEffect(() => {\n    if (library !== refEth.current) {\n      setweb3(library ? new Web3(library) : getWeb3NoAccount());\n      refEth.current = library;\n    }\n  }, [library]);\n\n  return web3;\n};\n\nexport default useWeb3;\n"]},"metadata":{},"sourceType":"module"}